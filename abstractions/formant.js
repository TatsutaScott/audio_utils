var soprano = {
  u: [325, 50, 0, 700, 60, -16, 2700, 120, -35, 3800, 180, -40, 4950, 200, -60],
  i: [
    270, 60, 0, 2140, 90, -12, 2950, 100, -26, 3900, 120, -26, 4950, 200, -56,
  ],
  e: [
    350, 60, 0, 2000, 100, -20, 2800, 120, -15, 3600, 150, -40, 4950, 200, -56,
  ],
  a: [800, 80, 0, 1150, 90, -6, 2900, 120, -32, 3900, 130, -20, 4950, 140, -50],
  o: [450, 70, 0, 800, 80, -11, 2830, 100, -22, 3800, 130, -22, 4950, 135, -50],
};

var alto = {
  u: [325, 50, 0, 700, 60, -12, 2530, 170, -30, 3500, 180, -40, 4950, 200, -64],
  i: [
    350, 50, 0, 1700, 100, -20, 2700, 120, -30, 3700, 150, -36, 4950, 200, -60,
  ],
  e: [
    400, 60, 0, 1600, 80, -24, 2700, 120, -30, 3300, 150, -35, 4950, 200, -60,
  ],
  a: [800, 80, 0, 1150, 90, -4, 2800, 120, -20, 3500, 130, -36, 4950, 140, -60],
  o: [450, 70, 0, 800, 80, -9, 2830, 100, -16, 3500, 130, -28, 4950, 135, -55],
};

var tenor = {
  u: [350, 40, 0, 600, 60, -20, 2700, 100, -17, 2900, 120, -14, 3300, 120, -26],
  i: [
    290, 40, 0, 1870, 90, -15, 2800, 100, -18, 3250, 120, -20, 3540, 120, -30,
  ],
  e: [
    400, 70, 0, 1700, 80, -14, 2600, 100, -12, 3200, 120, -14, 3580, 120, -20,
  ],
  a: [650, 80, 0, 1080, 90, -6, 2650, 120, -7, 2900, 130, -8, 3250, 140, -22],
  o: [400, 40, 0, 800, 80, -10, 2600, 100, -12, 2800, 120, -12, 3000, 120, -26],
};

var bass = {
  u: [350, 40, 0, 600, 80, -20, 2400, 100, -32, 2675, 120, -28, 2950, 120, -36],
  i: [
    250, 60, 0, 1750, 90, -30, 2600, 100, -16, 3050, 120, -22, 3340, 120, -28,
  ],
  e: [400, 40, 0, 1620, 80, -12, 2400, 100, -9, 2800, 120, -12, 3100, 120, -18],
  a: [600, 60, 0, 1040, 70, -7, 2250, 110, -9, 2450, 110, -9, 2750, 130, -20],
  o: [350, 40, 0, 600, 80, -20, 2400, 100, -32, 2675, 120, -28, 2950, 120, -36],
};

var countertenor = {
  u: [370, 40, 0, 630, 60, -20, 2750, 100, -23, 3000, 120, -30, 3400, 120, -34],
  i: [
    270, 40, 0, 1850, 90, -24, 2900, 100, -24, 3350, 120, -36, 3590, 120, -36,
  ],
  e: [
    440, 70, 0, 1800, 80, -14, 2700, 100, -18, 3000, 120, -20, 3300, 120, -20,
  ],
  a: [660, 80, 0, 1120, 90, -6, 2750, 120, -23, 3000, 130, -24, 3350, 140, -38],
  o: [
    430, 40, 0, 820, 80, -10, 2700, 100, -26, 3000, 120, -22, 33000, 120, -34,
  ],
};

var voices = [soprano, alto, countertenor, tenor, bass];
var formants = ["u", "i", "e", "a", "o"];

function list_interp(list_1, list_2, interp) {
  var interpolated = [];
  for (var i = 0; i < list_1.length; i++) {
    interpolated.push(lerp(list_1[i], list_2[i], interp));
  }
  return interpolated;
}

function lerp(start, end, t) {
  return start + (end - start) * t;
}

function get(formant, voice) {
  var lo_voice = voices[Math.floor(voice * 4)];
  var hi_voice = voices[Math.ceil(voice * 4)];

  var lo_formant = formants[Math.floor(formant * 4)];
  var hi_formant = formants[Math.ceil(formant * 4)];

  var lo_lo = lo_voice[lo_formant];
  var lo_hi = lo_voice[hi_formant];

  var hi_lo = hi_voice[lo_formant];
  var hi_hi = hi_voice[hi_formant];

  var interpolated_lo = list_interp(lo_lo, lo_hi, 4 * (formant % 0.25));
  var interpolated_hi = list_interp(hi_lo, hi_hi, 4 * (formant % 0.25));

  var full_interpolated = list_interp(
    interpolated_lo,
    interpolated_hi,
    4 * (voice % 0.25)
  );

  outlet(0, full_interpolated);
}
